<link rel="import" href="../../../components/cells-generic-dp/cells-generic-dp.html">

<dom-module id="pokemon-dm">

  <template>

    <dom-repeat items="{{data}}">

      <template>
        <cells-generic-dp
            id="ajax"
            host="{{item.url}}"
            on-request-success="_onResponse"
            auto
    ></cells-generic-dp>

      </template>
    <!--  -->
  </template>

  <script>
    class PokemonDm extends Polymer.Element {

      static get is() {
        return 'pokemon-dm';
      }

      // Declare properties for the element's public API
      static get properties() {
        return {
          data: {
            type: Array,
            value: function() {
              return [];
            }
          }
        };
  }

      _onResponse(e) {
        this.dispatchEvent(new CustomEvent('pokemon-success-request', {
          bubbles: true,
          composed: true,
          detail: e.detail
        }));
      }

    }

    customElements.define(PokemonDm.is, PokemonDm);
  </script>

</dom-module>
